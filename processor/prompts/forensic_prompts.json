{
  "system_settings": {
    "model_standard": "gemini-1.5-flash-001",
    "model_reasoning": "gemini-1.5-pro-001",
    "parsing_mode": "strict_json"
  },
  "prompts": {
    "classification": {
      "template": "Classify this document image.\nOptions: 'Financial Planner Letters' | 'Legal Contracts' | 'Tax Returns' | 'Bank Statements' | 'Check Registers' | 'Receipts'\n\nCRITICAL: Prioritize 'Financial Planner Letters' for any correspondence from an advisor. Prioritize 'Check Registers' only for handwritten grids.\n\nReturn JSON: { \"docType\": \"string\", \"reasoning\": \"string\" }"
    },
    "legal_analysis": {
      "template": "You are an expert Legal Forensic Analyst.\n\nTASK:\n1. Extract Parties, Effective Dates, and Obligations.\n2. Identify RESTRICTIONS on asset transfers or spending.\n3. Build a chronological timeline.\n\nOUTPUT JSON:\n{\n  \"_metadata\": {\n    \"primary_date\": \"YYYY-MM-DD (Effective Date)\",\n    \"entity_name\": \"Main Party Name\",\n    \"doc_type\": \"Legal Contract\"\n  },\n  \"Document Type\": \"string\",\n  \"Effective Date\": \"YYYY-MM-DD\",\n  \"Parties\": [\"string\"],\n  \"Obligations\": [{\"Type\": \"string\", \"Amount\": \"string\", \"Details\": \"string\"}],\n  \"Restrictions\": [{\"Clause\": \"string\", \"Impact\": \"string\"}],\n  \"Risks\": [{\"Risk\": \"string\", \"Severity\": \"string\", \"Reasoning\": \"string\"}],\n  \"Timeline\": [{\"Date\": \"YYYY-MM-DD\", \"Event\": \"string\"}]\n}"
    },
    "financial_planner": {
      "template": "You are a Forensic Accountant. \n\nCONTEXT - LEGAL RESTRICTIONS:\n{{PRENUP_CONTEXT}}\n\nTASK:\nAnalyze this letter. Does any advice violate the restrictions? Identify asset movement strategies.\n\nOUTPUT JSON:\n{\n  \"_metadata\": {\n    \"primary_date\": \"YYYY-MM-DD (Date letter was written)\",\n    \"entity_name\": \"Sender Organization/Person\",\n    \"doc_type\": \"Financial Letter\"\n  },\n  \"Letter Date\": \"YYYY-MM-DD\",\n  \"Organization\": \"string\",\n  \"Recipients\": \"string\",\n  \"Subject\": \"string\",\n  \"Forensic Analysis\": {\n     \"Strategy\": \"string\",\n     \"Violations\": [{\"Clause\": \"string\", \"Violation\": \"string\"}],\n     \"Commingling_Notes\": \"string\"\n  }\n}"
    },
    "bank_statement_math": {
      "template": "Extract transaction lines into a valid JSON array.\nCapture: Date, Description, Amount (Negative=debit), Running Balance.\n\nOUTPUT JSON:\n{\n  \"_metadata\": {\n    \"primary_date\": \"YYYY-MM-DD (Statement End Date)\",\n    \"entity_name\": \"Bank Name\",\n    \"doc_type\": \"Bank Statement\"\n  },\n  \"Account Number\": \"string\",\n  \"Period\": \"string\",\n  \"statement_lines\": [\n    { \"date\": \"YYYY-MM-DD\", \"description\": \"string\", \"amount\": number, \"balance\": number }\n  ]\n}"
    },
    "check_register": {
      "template": "Digitize this HANDWRITTEN check register.\n\nOCR CONTEXT:\n{{OCR_TEXT}}\n\nTASK:\n1. Reconstruct the ledger.\n2. Infer years if missing.\n\nOUTPUT JSON:\n{\n  \"_metadata\": {\n    \"primary_date\": \"YYYY-MM-DD (Last Entry Date)\",\n    \"entity_name\": \"Account Holder\",\n    \"doc_type\": \"Check Register\"\n  },\n  \"register_summary\": { \"entity\": \"string\", \"period\": \"string\" },\n  \"transactions\": [\n    { \"date\": \"YYYY-MM-DD\", \"check_num\": \"string\", \"payee\": \"string\", \"memo\": \"string\", \"payment\": \"string\", \"deposit\": \"string\", \"balance\": \"string\" }\n  ]\n}"
    },
    "tax_return": {
      "template": "Extract key tax data.\n\nOUTPUT JSON:\n{\n  \"_metadata\": {\n    \"primary_date\": \"YYYY-MM-DD (Tax Year End, e.g. 2023-12-31)\",\n    \"entity_name\": \"Taxpayer Name\",\n    \"doc_type\": \"Tax Return\"\n  },\n  \"Tax Year\": \"integer\",\n  \"Form\": \"string\",\n  \"Entity\": \"string\",\n  \"Total Income\": \"number\",\n  \"Tax Liability\": \"number\",\n  \"Depreciation\": [{\"Asset\": \"string\", \"Date Acquired\": \"string\", \"Cost\": \"number\"}]\n}"
    },
    "receipt_generic": {
      "template": "Extract receipt details.\n\nOUTPUT JSON:\n{\n  \"_metadata\": {\n    \"primary_date\": \"YYYY-MM-DD (Transaction Date)\",\n    \"entity_name\": \"Vendor Name\",\n    \"doc_type\": \"Receipt\"\n  },\n  \"Vendor\": \"string\",\n  \"Date\": \"YYYY-MM-DD\",\n  \"Total\": \"number\",\n  \"LineItems\": [\"string\"]\n}"
    }
  }
}